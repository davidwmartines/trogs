{% extends "layout.html" %}
{% block title %}
{{artist.name}}
{% endblock %}
{% block content %}
<h1>{{artist.name}}
    <a class="share" data-clipboard-text="{{ url_for('artist', id=artist.artistId) }}" href="#" title="share"></a>
</h1>
{% if artist.image_url is not none and artist.image_url|length %}
<img src="{{ artist.image_url|resize('300x300', fill=1, placeholder=1) }}" alt="{{artist.name}}" width="300" height="300">
{% endif %}

<!-- featured tracks -->
{% if artist.featured_tracks|length > 0 %}
<!-- <h3>Featured</h3> -->
<div class="playpause">
    <input type="checkbox" value="None" id="playpause" name="check" checked />
    <label for="playpause" tabindex="1"></label>
</div>

<div id="audiocontainer">
    {% for track in artist.featured_tracks %}
    <div class="trackbox">
        <p>
            <b>{{track.title}}</b>
            {%if track.album_id is defined and track.album_id is not none %}
            <span>from the album <a href="{{url_for('album', id=track.album_id)}}">{{track.album_title}}</a></span>
            {% endif %}
            {% if track.year is not none and track.year|length %}
            •
            {{track.year}}
            {% endif %}
          <a class="share" data-clipboard-text="{{ url_for('track', id=track.id) }}" href="{{ url_for('track', id=track.id) }}"></a>
        </p>
        {% if track.license|length %}
        <p class="license">
            <a rel="license" href="http://creativecommons.org/licenses/{{track.license}}/4.0/" target="_blank">
            <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/{{track.license}}/4.0/80x15.png" /></a>
            This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/{{track.license}}/4.0/" target="_blank">{{track.license_name}}</a>.
            </p>
        {% endif %}
        <div>
          <audio id="track_{{loop.index0}}" controls><source src="{{track.audio_url}}"></audio>
        </div>
      </div>
    {% endfor %}
</div>
{% endif %}


<!-- list albums-->
{% if artist.albums|length > 0 %}
<h3>Albums</h3>
<div>
{% for album in artist.albums %}
    <a href="{{url_for('album', id=album.id)}}" title="{{album.title}}">
        <div class="list_box">
            <div>
                {% if album.image_url is not none and album.image_url|length %}
                <img src="{{ album.image_url|resize('80x80', placeholder=1) }}" alt="{{album.title}}" width="80" height="80">
                {% else %}
                <img width="80" height="80" src="{{url_for('static', filename='1x1.png')}}">
                {% endif %}
            </div>
            <div class="title_box narrow">
                <p>{{album.title}} •
                {{album.year}}</p>
            </div>
        </div>
    </a>
{% endfor %}
</div>
{% endif %}

<!-- list singles-->
{% if artist.singles|length > 0 %}
<h3>
{% if artist.albums|length > 0 or artist.featured_tracks|length > 0 %}More{% endif %}
</h3>

<div>
    {% for track in artist.singles %}
        <a href="{{url_for('track', id=track.id)}}" title="{{track.title}}">
            <div class="list_box">
                <div>
                    <img width="0" height="80" src="{{url_for('static', filename='1x1.png')}}">
                </div>
                <div class="title_box">
                    <p>{{track.title}} •
                    {{track.year}}</p>
                </div>
            </div>
        </a>
    {% endfor %}
 </div>
{% endif %}
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='playlist.js')}}"></script>
{% endblock %}